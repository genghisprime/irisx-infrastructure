# NATS Server Configuration for IRISX
# Production configuration with JetStream enabled

# Server identification
server_name: irisx-nats-prod

# Connection settings
host: 0.0.0.0
port: 4222

# HTTP monitoring
http_port: 8222

# JetStream configuration
jetstream {
  # Store directory for JetStream data
  store_dir: /var/lib/nats/jetstream

  # Maximum memory for JetStream (2GB)
  max_memory_store: 2147483648

  # Maximum disk for JetStream (10GB)
  max_file_store: 10737418240
}

# Logging
log_file: /var/log/nats/nats-server.log
logtime: true
debug: false
trace: false

# Limits
max_payload: 10485760  # 10MB max message size
max_connections: 1000
max_subscriptions: 10000

# Timeouts
ping_interval: 30s
ping_max: 3
write_deadline: 10s

# Authorization (for production, use token or JWT)
# For now, using simple authorization
authorization {
  # Generate strong token for production
  token: "irisx-nats-prod-token-2025"
}
