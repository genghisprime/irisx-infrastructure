---
title: 'Login'
api: 'POST /v1/auth/login'
description: 'Authenticate with email and password'
---

## Overview

Authenticate an existing user and receive JWT tokens for API access. Use this endpoint to log in users to the customer portal or agent desktop.

<Note>
  This endpoint does not require authentication. For server-to-server communication, use your API key instead.
</Note>

## Request Body

<ParamField body="email" type="string" required>
  User email address
</ParamField>

<ParamField body="password" type="string" required>
  User password
</ParamField>

## Response

<ResponseField name="token" type="string">
  JWT access token for API authentication (expires in 24 hours)
</ResponseField>

<ResponseField name="refresh_token" type="string">
  Refresh token for obtaining new access tokens (expires in 30 days)
</ResponseField>

<ResponseField name="user" type="object">
  Authenticated user object

  <Expandable title="User properties">
    <ResponseField name="id" type="integer">
      User ID
    </ResponseField>
    <ResponseField name="tenant_id" type="integer">
      Tenant ID
    </ResponseField>
    <ResponseField name="email" type="string">
      User email address
    </ResponseField>
    <ResponseField name="first_name" type="string">
      First name
    </ResponseField>
    <ResponseField name="last_name" type="string">
      Last name
    </ResponseField>
    <ResponseField name="role" type="string">
      User role: `admin`, `agent`, or `user`
    </ResponseField>
  </Expandable>
</ResponseField>

<RequestExample>

```bash cURL
curl -X POST https://api.tazzi.com/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "email": "admin@acme.com",
    "password": "securepassword123"
  }'
```

```javascript Node.js
const axios = require('axios');

async function login(email, password) {
  try {
    const response = await axios.post(
      'https://api.tazzi.com/v1/auth/login',
      {
        email,
        password
      }
    );

    const { token, refresh_token, user } = response.data;

    console.log('Login successful!');
    console.log('User:', user.email, '-', user.role);

    // Store tokens securely
    localStorage.setItem('token', token);
    localStorage.setItem('refresh_token', refresh_token);

    return response.data;

  } catch (error) {
    if (error.response?.status === 401) {
      console.error('Invalid email or password');
    } else {
      console.error('Login failed:', error.response?.data);
    }
    throw error;
  }
}

login('admin@acme.com', 'securepassword123');
```

```python Python
import requests

def login(email, password):
    response = requests.post(
        'https://api.tazzi.com/v1/auth/login',
        json={
            'email': email,
            'password': password
        }
    )

    if response.status_code == 200:
        data = response.json()
        print('Login successful!')
        print(f"User: {data['user']['email']} - {data['user']['role']}")

        # Store tokens securely
        return data
    elif response.status_code == 401:
        print('Invalid email or password')
    else:
        print(f"Login failed: {response.json()}")

    return None

login('admin@acme.com', 'securepassword123')
```

```php PHP
<?php
function login($email, $password) {
    $ch = curl_init('https://api.tazzi.com/v1/auth/login');

    curl_setopt_array($ch, [
        CURLOPT_POST => true,
        CURLOPT_RETURNTRANSFER => true,
        CURLOPT_HTTPHEADER => ['Content-Type: application/json'],
        CURLOPT_POSTFIELDS => json_encode([
            'email' => $email,
            'password' => $password
        ])
    ]);

    $response = curl_exec($ch);
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);
    $result = json_decode($response, true);

    if ($httpCode === 200) {
        echo "Login successful!\n";
        echo "User: " . $result['user']['email'] . " - " . $result['user']['role'] . "\n";

        // Store tokens securely
        $_SESSION['token'] = $result['token'];
        $_SESSION['refresh_token'] = $result['refresh_token'];

        return $result;
    } else {
        echo "Login failed: " . $result['message'] . "\n";
        return null;
    }

    curl_close($ch);
}

login('admin@acme.com', 'securepassword123');
?>
```

</RequestExample>

<ResponseExample>

```json Success Response (200)
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "refresh_token": "rt_a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6",
  "user": {
    "id": 1,
    "tenant_id": 1,
    "email": "admin@acme.com",
    "first_name": "John",
    "last_name": "Doe",
    "role": "admin",
    "created_at": "2025-10-30T18:00:00Z",
    "updated_at": "2025-10-30T18:00:00Z"
  }
}
```

```json Error Response (401)
{
  "error": "UNAUTHORIZED",
  "message": "Invalid email or password"
}
```

</ResponseExample>

## Using the Access Token

Include the JWT token in subsequent API requests:

```bash
curl https://api.tazzi.com/v1/calls \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"
```

<Tip>
  The access token expires after 24 hours. Use the refresh token to obtain a new access token without requiring the user to log in again.
</Tip>

## Token Expiration

| Token Type | Expiration | Use Case |
|-----------|------------|----------|
| Access Token | 24 hours | API authentication |
| Refresh Token | 30 days | Obtain new access tokens |

## Error Codes

| Code | Error | Description |
|------|-------|-------------|
| 400 | BAD_REQUEST | Missing email or password |
| 401 | UNAUTHORIZED | Invalid credentials |
| 403 | ACCOUNT_SUSPENDED | Account has been suspended |
| 429 | RATE_LIMITED | Too many login attempts |
| 500 | INTERNAL_ERROR | Server error during login |

## Security Best Practices

<Warning>
  **Never store passwords in plain text!** Always use secure storage for tokens (httpOnly cookies, secure storage APIs).
</Warning>

<Tip>
  Implement rate limiting on your login endpoint to prevent brute force attacks. Tazzi enforces 5 login attempts per minute per IP address.
</Tip>

## Token Storage

### Web Applications

```javascript
// Store in httpOnly cookie (recommended)
document.cookie = `token=${token}; Secure; HttpOnly; SameSite=Strict`;

// Or use localStorage (less secure but easier)
localStorage.setItem('token', token);
localStorage.setItem('refresh_token', refresh_token);
```

### Mobile Applications

```javascript
// React Native - Use secure storage
import * as SecureStore from 'expo-secure-store';

await SecureStore.setItemAsync('token', token);
await SecureStore.setItemAsync('refresh_token', refresh_token);
```

## Logout

To log out, simply delete the stored tokens from your application. There is no server-side logout endpoint required (tokens expire automatically).

```javascript
// Clear tokens on logout
localStorage.removeItem('token');
localStorage.removeItem('refresh_token');
```

## Related Endpoints

<CardGroup cols={2}>
  <Card title="Register" icon="user-plus" href="/api-reference/auth/register">
    Create a new tenant account
  </Card>
  <Card title="Refresh Token" icon="arrows-rotate" href="/api-reference/auth/refresh">
    Get a new access token
  </Card>
  <Card title="Get Current User" icon="user" href="/api-reference/auth/me">
    Retrieve user information
  </Card>
  <Card title="Logout" icon="right-from-bracket" href="/api-reference/auth/logout">
    End user session
  </Card>
</CardGroup>
